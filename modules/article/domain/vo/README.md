# Value Objects

DDDにおける最小単位。
エンティティの属性を表現するために使用される。
Value Object (VO) は、以下の特性を持つ。

- **識別子を持たない**: VOは識別子を持たず、その属性の集合によって定義される。
- **不変性**: VOは一度作成されると、その属性は変更されない。
- **等価性**: VOはその属性の値によって等価性が判断される。つまり、同じ属性値を持つVOは同一と見なされる。

## Value Objectの実装

Value Objectには必ず以下の要件を満たす必要がある。

- **コンストラクタで全ての属性を初期化する**: VOは不変であるため、全ての属性はコンストラクタで初期化される。
- **属性のゲッターを提供する**: VOの属性は外部から変更できないため、ゲッターを通じてアクセスされる。
- **等価性の比較メソッドを実装する**: VOの等価性を判断するためのメソッドを実装する。
- **バリデーションを行う**: VOの属性に対して適切なバリデーションを行い、不正な状態を防ぐ。

## どこまでValue Objectにするか

どこまでの属性をValue Objectにするかは、ドメインの複雑さやビジネスルールに依存する。
一般的には、以下のガイドラインに従うと良い。

- **関連する属性をまとめる**: 複数の属性が密接に関連している場合、それらを一つのVOとしてまとめる。
  - 例: 住所 (Address) は、街区、都市、郵便番号などの属性を持つVOとして表現されることが多い。
- **ビジネスルールを反映する**: ビジネスルールが特定の属性の組み合わせに依存している場合、その組み合わせをVOとして表現する。
  - 例: 金額 (Money) は、通貨と金額の組み合わせを持つVOとして表現されることが多い。
- **再利用性を考慮する**: 同じ属性の組み合わせが複数のエンティティで使用される場合、それらをVOとして定義することで、コードの再利用性が向上する。(例: ユーザーの名前 (UserName) は、複数のエンティティで使用される可能性があるため、VOとして定義することが考えられる。)
